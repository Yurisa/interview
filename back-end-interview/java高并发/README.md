## java并发编程与高并发解决方案
### 并发基本概念
    - 同时拥有两个或者多个线程, 如果程序在单核处理器上运行, 多个线程将交替地换人或者换出内存, 这些线程是同时"存在"的, 每个线程都处于执行过程中的某个状态, 如果运行在多核处理器上, 此时, 程序中的每个线程都将分配到一个处理器核上, 因此可以同时运行。
### 高并发
    - 高并发(High Concurrency)是互联网分布式系统架构设计中必须考虑的因素之一, 它通常是指, 通过设计保证系统能够同时并行处理很多请求。
#### 并发: 多个线程操作相同的资源, 保证线程安全, 合理使用资源
#### 高并发: 服务能同时处理很多请求, 提高程序性能 
### CPU多级缓存
![cache icon](/images/4.jpg)
#### 为什么CPU需要cache
     - CPU的频率太快了, 快到主存跟不上, 这样在处理器时钟周期内, CPU常常需要等待主存, 浪费资源。所以cache的出现是为了缓解CPU和内存之间速度不匹配问题(结构:cpu -> cache -> memory)
#### CPU cache有什么意义
     - 时间局部性: 如果某个数据被访问, 那么在不久的将来它很可能被再次访问
     - 空间局部性: 如果某个数据被访问, 那么与它相邻的数据很快也可能被访问
#### 缓存一致性(MESI)
     - 用于保证多个CPU cache之间缓存共享数据的一致
       - M:Modified 被修改
       - E:Eclusive 独享
       - S:Shared 共享
       - I:Invalid 无效的
#### 乱序执行优化
     - 处理器为提高运算速度而做出违背原有顺序的优化
### java内存模型(Java Memory Model, JMM)
    - java内存模型是一种规范, 它规定了java虚拟机和计算机是如何协同工作的, 它规定了一个线程如何和何时可以看到由其他线程修改过后的变量的值以及在必须时如何同步地访问共享变量。
![JMM1 icon](/images/5.jpg)
![JMM2 icon](/images/6.jpg)
![JMM3 icon](/images/7.jpg)
#### java内存模型抽象结构图
![JMM4 icon](/images/8.jpg)
#### 同步八种操作
     - lock
![lock icon](/images/9.jpg)
### 并发的优势与风险
![youshilieshi icon](/images/10.jpg)
    